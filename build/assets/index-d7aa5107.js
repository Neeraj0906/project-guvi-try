import{j as e,r as a,a as oe}from"./react-3ca98b8e.js";import{c as ce}from"./react-dom-a5b8749f.js";import{L as y,B as de}from"./react-router-dom-2af224f2.js";import{c as me}from"./@emotion-25286980.js";import{a as P,d as U,b as ue,e as pe,f as w}from"./react-router-416fab08.js";import{a as I}from"./axios-1779699b.js";import"./firebase-571037ac.js";import{i as xe,g as he}from"./@firebase-93409e9e.js";import"./hoist-non-react-statics-178b73a1.js";import"./react-is-e8e5dbb3.js";import"./scheduler-765c72db.js";import"./@remix-run-5d7bddc6.js";import"./tslib-6635c9de.js";import"./idb-81bdbf9b.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();function ge(){return e.jsxs("div",{className:"loader-container",children:[e.jsx("div",{className:"loader"}),e.jsx("p",{children:"Fetching Flight details..."})]})}const ae=s=>{const r=Date.now()+36e5,o={...s,expirationTime:r};localStorage.setItem("userData",JSON.stringify(o))},re=()=>{const s=localStorage.getItem("userData");if(s){const r=JSON.parse(s);if(r.expirationTime>Date.now())return r;te()}return null},te=()=>{localStorage.removeItem("userData")},v=()=>re()!=null,ne=()=>{te()},ie=a.createContext(),fe=()=>a.useContext(ie),je=({children:s})=>{const[r,o]=a.useState(null),c=t=>{o(t)};return e.jsx(ie.Provider,{value:{flightData:r,setFlight:c},children:s})};function le(){const[s,r]=a.useState("Economy Class"),[o,c]=a.useState("MAA"),[t,n]=a.useState("DXB"),[l,u]=a.useState("2023-09-20"),[p,x]=a.useState(1),[m,j]=a.useState(0);a.useState("ECONOMY");const[f,h]=a.useState("oneWay"),[b,N]=a.useState([]),[B,D]=a.useState(!1);a.useState(!1);const[M,L]=a.useState(1),[_]=a.useState(10),C=P(),k=i=>{r(i)},O=async i=>{i.preventDefault(),C("/flights");const d=s;if(console.log(s),v())try{D(!0);const R=await(await fetch(`http://localhost:8000/api/flights?originLocationCode=${o}&destinationLocationCode=${t}&departureDate=${l}&adults=${p}&children=${m}&carrierclassName=${d}`)).json();N(R)}catch(g){console.error("Error fetching flight offers:",g)}finally{D(!1)}else C("/login")},E=i=>{L(i)},S=M*_,T=S-_,A=b.slice(T,S);fe();const z=i=>{C("/payment",{state:{flight:i}})},F=i=>{console.log("Radio button clicked:",i.target.value),console.log("Current tripType:",f),h(i.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"section__container booking__container",children:[e.jsxs("div",{className:"booking__nav",children:[e.jsx("span",{className:s==="Economy Class"?"active-tab":"tab",onClick:()=>k("Economy Class"),children:"Economy Class"}),e.jsx("span",{className:s==="Business Class"?"active-tab":"tab",onClick:()=>k("Business Class"),children:"Business Class"}),e.jsx("span",{className:s==="First Class"?"active-tab":"tab",onClick:()=>k("First Class"),children:"First Class"})]}),e.jsxs("form",{children:[e.jsxs("div",{className:"form__group",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-map-pin-line"})}),e.jsxs("div",{className:"input__content",children:[e.jsxs("div",{className:"input__group",children:[e.jsx("input",{type:"text",value:o,onChange:i=>c(i.target.value)}),e.jsx("label",{children:"Location"})]}),e.jsx("p",{children:"Where are you going?"})]})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-calendar-line"})}),e.jsxs("div",{className:"input__content",children:[e.jsxs("div",{className:"input__group",children:[e.jsx("input",{type:"text",value:t,onChange:i=>n(i.target.value)}),e.jsx("label",{children:"Return"})]}),e.jsx("p",{children:"Add date"})]})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-calendar-line"})}),e.jsxs("div",{className:"input__content",children:[e.jsxs("div",{className:"input__group",children:[e.jsx("input",{type:"date",value:l,onChange:i=>u(i.target.value)}),e.jsx("label",{children:"Departure"})]}),e.jsx("p",{children:"Add date"})]})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-user-3-line"})}),e.jsxs("div",{className:"input__content",children:[e.jsxs("div",{className:"input__group",children:[e.jsx("input",{type:"number",value:p,onChange:i=>x(i.target.value)}),e.jsx("label",{children:"Travellers"})]}),e.jsx("p",{children:"Add guests"})]})]}),e.jsxs("div",{className:"trip-type form__group",children:[e.jsx("div",{className:"input__content",children:e.jsx("div",{className:"input__group",children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",value:"oneWay",style:{cursor:"pointer"},checked:f==="oneWay",onChange:F}),"One Way"]})})}),e.jsx("div",{className:"input__content",children:e.jsx("div",{className:"input__group",children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",value:"roundTrip",style:{cursor:"pointer"},checked:f==="roundTrip",onChange:F}),"Round Trip"]})})})]}),e.jsx("button",{className:"btn",onClick:O,children:e.jsx("i",{className:"ri-search-line"})})]})]}),e.jsx("div",{className:"flight-list",children:B?e.jsx("div",{className:"loading-spinner",children:e.jsx(ge,{})}):A.map((i,d)=>{var g,R,$,W,Y,Q,K,G,J,V,X,Z,ee;return e.jsx("div",{className:"p-10",children:e.jsxs("div",{className:"max-w-full bg-white flex flex-col rounded overflow-hidden shadow-lg",children:[e.jsxs("div",{className:"flex flex-row items-baseline flex-nowrap bg-gray-100 p-2",children:[e.jsx("svg",{viewBox:"0 0 64 64","data-testid":"tripDetails-bound-plane-icon",pointerEvents:"all","aria-hidden":"true",className:"mt-2 mr-1",role:"presentation",style:{fill:"rgb(102, 102, 102)",height:"0.9rem",width:"0.9rem"},children:e.jsx("path",{d:"M43.389 38.269L29.222 61.34a1.152 1.152 0 01-1.064.615H20.99a1.219 1.219 0 01-1.007-.5 1.324 1.324 0 01-.2-1.149L26.2 38.27H11.7l-3.947 6.919a1.209 1.209 0 01-1.092.644H1.285a1.234 1.234 0 01-.895-.392l-.057-.056a1.427 1.427 0 01-.308-1.036L1.789 32 .025 19.656a1.182 1.182 0 01.281-1.009 1.356 1.356 0 01.951-.448l5.4-.027a1.227 1.227 0 01.9.391.85.85 0 01.2.252L11.7 25.73h14.5L19.792 3.7a1.324 1.324 0 01.2-1.149A1.219 1.219 0 0121 2.045h7.168a1.152 1.152 0 011.064.615l14.162 23.071h8.959a17.287 17.287 0 017.839 1.791Q63.777 29.315 64 32q-.224 2.685-3.807 4.478a17.282 17.282 0 01-7.84 1.793h-9.016z"})}),e.jsx("h1",{className:"ml-2 uppercase font-bold text-gray-500",children:"departure"}),e.jsx("p",{className:"ml-2 font-normal text-gray-500",children:new Date(($=(R=(g=i.itineraries[0])==null?void 0:g.segments[0])==null?void 0:R.arrival)==null?void 0:$.at).toLocaleDateString()||"N/A"})]}),e.jsx("div",{className:"mt-2 flex justify-start bg-white p-2",children:e.jsxs("div",{className:"flex mx-2 ml-6 h-8 px-2 flex-row items-baseline rounded-full bg-gray-100 p-1",children:[e.jsx("svg",{viewBox:"0 0 64 64",pointerEvents:"all","aria-hidden":"true",className:"etiIcon css-jbc4oa",role:"presentation",style:{fill:"rgb(102, 102, 102)",height:"12px",width:"12px"},children:e.jsx("path",{d:"M43.389 38.269L29.222 61.34a1.152 1.152 0 01-1.064.615H20.99a1.219 1.219 0 01-1.007-.5 1.324 1.324 0 01-.2-1.149L26.2 38.27H11.7l-3.947 6.919a1.209 1.209 0 01-1.092.644H1.285a1.234 1.234 0 01-.895-.392l-.057-.056a1.427 1.427 0 01-.308-1.036L1.789 32 .025 19.656a1.182 1.182 0 01.281-1.009 1.356 1.356 0 01.951-.448l5.4-.027a1.227 1.227 0 01.9.391.85.85 0 01.2.252L11.7 25.73h14.5L19.792 3.7a1.324 1.324 0 01.2-1.149A1.219 1.219 0 0121 2.045h7.168a1.152 1.152 0 011.064.615l14.162 23.071h8.959a17.287 17.287 0 017.839 1.791Q63.777 29.315 64 32q-.224 2.685-3.807 4.478a17.282 17.282 0 01-7.84 1.793h-9.016z"})}),e.jsx("p",{className:"font-normal text-sm ml-1 text-gray-500",children:"Economy"})]})}),e.jsxs("div",{className:"mt-2 flex sm:flex-row mx-6 sm:justify-between flex-wrap ",children:[e.jsxs("div",{className:"flex flex-row place-items-center p-2",children:[e.jsx("img",{alt:"Qatar Airways",className:"w-10 h-10",src:((Y=(W=i.itineraries[0])==null?void 0:W.segments[0])==null?void 0:Y.carrierImage)||"",style:{opacity:1,transformOrigin:"0% 50% 0px",transform:"none"}}),e.jsxs("div",{className:"flex flex-col ml-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-bold",children:((K=(Q=i.itineraries[0])==null?void 0:Q.segments[0])==null?void 0:K.carrierCode)||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:"2*23kg"})]})]}),e.jsxs("div",{className:"flex flex-col p-2",children:[e.jsx("p",{className:"font-bold",children:new Date((V=(J=(G=i.itineraries[0])==null?void 0:G.segments[0])==null?void 0:J.departure)==null?void 0:V.at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})||"N/A"}),e.jsx("p",{className:"text-gray-500",children:e.jsx("span",{className:"font-bold",children:o})}),e.jsx("p",{className:"text-gray-500"})]}),e.jsxs("div",{className:"flex flex-col flex-wrap p-2",children:[e.jsx("p",{className:"font-bold",children:new Date((ee=(Z=(X=i.itineraries[0])==null?void 0:X.segments[0])==null?void 0:Z.arrival)==null?void 0:ee.at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})||"N/A"}),e.jsx("p",{className:"text-gray-500",children:e.jsx("span",{className:"font-bold",children:t})}),e.jsx("p",{className:"text-gray-500"})]})]}),e.jsx("div",{className:"mt-4 bg-gray-100 flex flex-row flex-wrap md:flex-nowrap justify-between items-baseline ",children:e.jsxs("div",{className:"flex mx-6 py-4 flex-row flex-wrap",style:{alignSelf:"flex-end"},children:[e.jsx("svg",{className:"w-12 h-10 p-2 mx-2 self-center bg-gray-400 rounded-full fill-current text-white",viewBox:"0 0 64 64",pointerEvents:"all","aria-hidden":"true",role:"presentation",children:e.jsx("path",{d:"M43.389 38.269L29.222 61.34a1.152 1.152 0 01-1.064.615H20.99a1.219 1.219 0 01-1.007-.5 1.324 1.324 0 01-.2-1.149L26.2 38.27H11.7l-3.947 6.919a1.209 1.209 0 01-1.092.644H1.285a1.234 1.234 0 01-.895-.392l-.057-.056a1.427 1.427 0 01-.308-1.036L1.789 32 .025 19.656a1.182 1.182 0 01.281-1.009 1.356 1.356 0 01.951-.448l5.4-.027a1.227 1.227 0 01.9.391.85.85 0 01.2.252L11.7 25.73h14.5L19.792 3.7a1.324 1.324 0 01.2-1.149A1.219 1.219 0 0121 2.045h7.168a1.152 1.152 0 011.064.615l14.162 23.071h8.959a17.287 17.287 0 017.839 1.791Q63.777 29.315 64 32q-.224 2.685-3.807 4.478a17.282 17.282 0 01-7.84 1.793h-9.016z"})}),e.jsxs("div",{className:"text-sm mx-2 flex flex-col",children:[e.jsxs("p",{className:"font-bold",children:[" ",`${i.price.total} ${i.price.currency}`]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Price per adult"})]}),e.jsx("button",{className:"w-32 h-11 rounded flex border-solid border text-white bg-blue-800 mx-2 justify-center place-items-center",onClick:()=>z(i),children:e.jsx("div",{className:"",children:"Book"})})]})})]})},d)})}),e.jsx("div",{className:"pagination",children:Array.from({length:Math.ceil(b.length/_)}).map((i,d)=>e.jsx("button",{onClick:()=>E(d+1),className:"tab-btn",children:d+1},d))})]})}me`
  display: block;
  margin: 0 auto;
`;function be(){return e.jsxs("section",{style:{padding:"20px",backgroundColor:"#f0f0f0",width:"95%",marginLeft:"35px"},className:"section__container tours__container",children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:"20px"},className:"section__header",children:"Featured Tours"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},className:"tours__grid",children:[e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"10px",display:"flex",alignItems:"center"},className:"tours__card",children:[e.jsx("img",{style:{height:"70px",width:"70px",borderRadius:"5px",marginRight:"10px"},src:"https://res.cloudinary.com/dtljonz0f/image/upload/c_auto,ar_4:3,w_3840,g_auto/f_auto/q_auto/shutterstock_2414539851_ss_non-editorial_dcx0bm?_a=BAVARSDW0",alt:"Dubai"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginLeft:"20px",fontSize:"40px"},className:"tours__card__content",children:[e.jsx("h4",{children:"Dubai"}),e.jsx("p",{children:"Explore the vibrant city of Dubai with our exclusive tour packages."})]})]}),e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"10px",display:"flex",alignItems:"center"},className:"tours__card",children:[e.jsx("img",{style:{height:"70px",width:"70px",borderRadius:"5px",marginRight:"10px"},src:"https://149990825.v2.pressablecdn.com/wp-content/uploads/2023/09/Paris1.jpg",alt:"Paris"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginLeft:"20px",fontSize:"40px"},className:"tours__card__content",children:[e.jsx("h4",{children:"Paris"}),e.jsx("p",{children:"Discover the romantic charm of Paris with our guided tours."})]})]}),e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"10px",display:"flex",alignItems:"center"},className:"tours__card",children:[e.jsx("img",{style:{height:"70px",width:"70px",borderRadius:"5px",marginRight:"10px"},src:"https://lapwingvacations.in/wp-content/uploads/2023/08/singapore-1-960x600-1.jpg",alt:"Singapore"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginLeft:"20px",fontSize:"40px"},className:"tours__card__content",children:[e.jsx("h4",{children:"Singapore"}),e.jsx("p",{children:"Experience the beauty and culture of Singapore through our tours."})]})]}),e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"10px",display:"flex",alignItems:"center"},className:"tours__card",children:[e.jsx("img",{style:{height:"70px",width:"70px",borderRadius:"5px",marginRight:"10px"},src:"https://static2.tripoto.com/media/filter/tst/img/210609/TripDocument/1474116741_destination_for_malaysian_24343.jpg",alt:"Malaysia"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginLeft:"30px",fontSize:"40px"},className:"tours__card__content",children:[e.jsx("h4",{children:"Malaysia"}),e.jsx("p",{children:"Explore the diverse landscapes of Malaysia with our guided tours."})]})]})]})]})}function q(s){const r=()=>{navigate};return e.jsx("nav",{className:"bg-white border-gray-200 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[e.jsx(y,{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white mr-96",to:"/",children:"Flights.com"}),e.jsxs("button",{"data-collapse-toggle":"navbar-default",type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-default","aria-expanded":"false",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h15M1 7h15M1 13h15"})})]}),e.jsx("div",{className:"hidden  w-full md:block md:w-auto",id:"navbar-default",children:e.jsxs("ul",{className:"font-medium flex flex-col justify-between p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[v()?null:e.jsx("li",{className:"nav-item",children:e.jsx(y,{className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",to:"/register",children:"Register"})}),v()?null:e.jsx("li",{className:"nav-item",children:e.jsx(y,{className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",to:"/login",children:"Login"})}),e.jsx("li",{className:"nav-item",children:e.jsx(y,{className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",to:"/",children:"Home"})}),v()?e.jsx("li",{className:"nav-item",children:e.jsx(y,{className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",to:"/dashboard",children:"Dashboard"})}):null,e.jsx("li",{className:"nav-item",children:e.jsx(y,{className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",to:r,children:"Tours"})}),v()?e.jsx("li",{className:"nav-item",children:e.jsx("a",{className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500","aria-current":"page",onClick:s.logoutUser,style:{cursor:"pointer"},children:"Logout"})}):null]})})]})})}I.defaults.baseURL="https://identitytoolkit.googleapis.com/v1";const H="AIzaSyDOAIpSKqsbsTFRdhb09uMo4_hkgQ7KJYQ",ve=`/accounts:signUp?key=${H}`,ye=`/accounts:signInWithPassword?key=${H}`,Ne=`/accounts:lookup?key=${H}`,we={apiKey:"AIzaSyDOAIpSKqsbsTFRdhb09uMo4_hkgQ7KJYQ",authDomain:"flight-booking-4d804.firebaseapp.com",databaseURL:"https://flight-booking-4d804-default-rtdb.firebaseio.com",projectId:"flight-booking-4d804",storageBucket:"flight-booking-4d804.appspot.com",messagingSenderId:"749628065648",appId:"1:749628065648:web:eb63f2d52f0170cbbbb1b5",measurementId:"G-NZ4C9N5573"},_e=s=>{let r={displayName:s.name,email:s.email,password:s.password};return I.post(ve,r)},ke=s=>{let r={email:s.email,password:s.password};return I.post(ye,r)},Se=()=>{let s={idToken:re()};return I.post(Ne,s)},Ce=xe(we);he(Ce);function De(){const s=P(),[r,o]=a.useState([]),[c,t]=a.useState({name:"",email:"",localId:""}),[n,l]=a.useState(!0),[u,p]=a.useState(!0),[x,m]=a.useState(null);a.useEffect(()=>{v()?(p(!0),Se().then(h=>{t({name:h.data.users[0].displayName,email:h.data.users[0].email,localId:h.data.users[0].localId})}).catch(h=>{m("Error fetching user data: "+h.message)}).finally(()=>p(!1))):p(!1)},[]),a.useEffect(()=>{(async()=>{l(!0);try{const b=await fetch("http://localhost:8000/api/booking");if(b.ok){const N=await b.json();o(N)}else m("Error fetching flight data")}catch(b){m("Error fetching data: "+b.message)}finally{l(!1)}})()},[]);const j=()=>{ne(),s("/login")};if(!v())return e.jsx(U,{to:"/login"});const f=()=>{s("/")};return e.jsxs("div",{children:[e.jsx(q,{logoutUser:j}),e.jsxs("main",{role:"main",className:"container mt-5 my-12",children:[e.jsx("div",{className:"container",children:e.jsxs("div",{className:"text-center mt-5",children:[e.jsx("h3",{children:"Dashboard Page"}),u?e.jsx("p",{children:"Loading user data..."}):x?e.jsx("p",{children:x}):c.name&&c.email&&c.localId&&e.jsxs("div",{children:[e.jsxs("strong",{className:"text-bold",children:["Hi ",c.name]}),e.jsx("br",{}),e.jsxs("p",{children:["Your email is ",c.email]}),e.jsx("br",{})]})]})}),e.jsx("div",{children:n?e.jsx("p",{children:"Loading flight details..."}):x?e.jsx("p",{children:x}):e.jsx("ul",{children:r.map(h=>{var b,N;return e.jsxs("li",{children:[e.jsx("strong",{children:"Price:"})," ",(b=h.flight.price)==null?void 0:b.currency," ",(N=h.flight.price)==null?void 0:N.total,e.jsx("br",{}),e.jsx("strong",{children:"Departure Airport:"})," ",h.flight.itineraries[0].segments[0].departure.iataCode,e.jsx("br",{}),e.jsx("strong",{children:"Arrival Airport:"})," ",h.flight.itineraries[0].segments[0].arrival.iataCode,e.jsx("br",{}),e.jsx("strong",{children:"Departure Time:"})," ",h.departureTime]},h._id)})})}),e.jsx("div",{className:"my-8",children:e.jsx("button",{className:"btn",onClick:f,children:"Go To Home"})})]})]})}function Le(){const s={email:{required:!1,invalid:!1},password:{required:!1},custom_error:null},[r,o]=a.useState(s),[c,t]=a.useState(!1),[n,l]=a.useState({email:"",password:""}),u=x=>{l({...n,[x.target.name]:x.target.value})},p=x=>{x.preventDefault();let m={...s},j=!1;n.email?/\S+@\S+\.\S+/.test(n.email)||(m.email.invalid=!0,j=!0):(m.email.required=!0,j=!0),n.password||(m.password.required=!0,j=!0),j?o({...m}):(t(!0),ke(n).then(f=>{ae(f.data.idToken)}).catch(f=>{f.code==="ERR_BAD_REQUEST"&&(m.custom_error="Invalid Credentials.")}).finally(()=>{t(!1),o({...m})}))};return v()?e.jsx(U,{to:"/"}):e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsx("section",{className:"flex flex-col justify-center items-center",children:e.jsx("div",{className:"",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"col login-sec",children:[e.jsx("h2",{className:"text-center",children:"Login Now"}),e.jsxs("form",{onSubmit:p,className:"login-form",children:[e.jsxs("div",{className:"relative z-0 w-full mb-6 group",children:[e.jsx("label",{htmlFor:"floating_email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"}),e.jsx("input",{type:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",onChange:u,name:"email",placeholder:" ",id:"floating_email"}),r.email.required&&e.jsx("span",{className:"text-red-500",children:"Email is required."}),r.email.invalid&&e.jsx("span",{className:"text-red-500",children:"Please enter a valid email."})]}),e.jsxs("div",{className:"relative z-0 w-full mb-6 group",children:[e.jsx("label",{htmlFor:"exampleInputPassword1",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"}),e.jsx("input",{className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",type:"password",onChange:u,name:"password",placeholder:" "}),r.password.required&&e.jsx("span",{className:"text-red-500",children:"Password is required."})]}),e.jsxs("div",{className:"form-group",children:[c&&e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})}),e.jsx("span",{className:"text-red-500",children:r.custom_error&&e.jsx("p",{children:r.custom_error})}),e.jsx("input",{type:"submit",className:"btn btn-login float-right",disabled:c,value:"Login"})]}),e.jsx("div",{className:"clearfix"}),e.jsxs("div",{className:"form-group",children:["Create a new account? Please"," ",e.jsx(y,{to:"/register",children:"Register"})]})]})]})})})})]})}function Ee(){const s={email:{required:!1},password:{required:!1},name:{required:!1},custom_error:null},[r,o]=a.useState(s),[c,t]=a.useState(!1),[n,l]=a.useState({email:"",password:"",name:""}),u=x=>{l({...n,[x.target.name]:x.target.value})},p=x=>{x.preventDefault();let m={...s},j=!1;n.name===""&&(m.name.required=!0,j=!0),n.email===""&&(m.email.required=!0,j=!0),n.password===""&&(m.password.required=!0,j=!0),j||(t(!0),_e(n).then(f=>{ae(f.data.idToken)}).catch(f=>{f.response.data.error.message==="EMAIL_EXISTS"?o({...m,custom_error:"This email is already registered!"}):String(f.response.data.error.message).includes("WEAK_PASSWORD")&&o({...m,custom_error:"Password should be at least 6 characters!"})}).finally(()=>{t(!1)})),o(m)};return v()?e.jsx(U,{to:"/"}):e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsx("section",{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"col register-sec",children:[e.jsx("h2",{className:"text-center",children:"Register Now"}),e.jsxs("form",{onSubmit:p,className:"register-form",children:[e.jsxs("div",{className:"relative z-0 w-full mb-6 group",children:[e.jsx("label",{htmlFor:"name",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Name"}),e.jsx("input",{type:"text",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",onChange:u,name:"name",id:"name"}),r.name.required&&e.jsx("span",{className:"text-danger",children:"Name is required."})]}),e.jsxs("div",{className:"relative z-0 w-full mb-6 group",children:[e.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"}),e.jsx("input",{type:"text",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",onChange:u,name:"email",id:"email"}),r.email.required&&e.jsx("span",{className:"text-danger",children:"Email is required."})]}),e.jsxs("div",{className:"relative z-0 w-full mb-6 group",children:[e.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"}),e.jsx("input",{className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",type:"password",onChange:u,name:"password",id:"password"}),r.password.required&&e.jsx("span",{className:"text-danger",children:"Password is required."})]}),e.jsxs("div",{className:"form-group",children:[r.custom_error&&e.jsx("span",{className:"text-danger",children:r.custom_error}),c&&e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})}),e.jsx("input",{type:"submit",className:"btn btn-login float-right",disabled:c,value:"Register"})]}),e.jsxs("div",{className:"form-group",children:["Already have an account? Please ",e.jsx(y,{to:"/login",children:"Login"})]})]})]})})]})}const Te="/assets/visa-1a954834.png",se="/assets/chip-612d3c3f.png";function Ae(){const[s,r]=a.useState(""),[o,c]=a.useState(""),[t,n]=a.useState("mm"),[l,u]=a.useState("yy"),[p,x]=a.useState(""),[m,j]=a.useState(!1),f=d=>{r(d.target.value)},h=d=>{c(d.target.value)},b=d=>{n(d.target.value)},N=d=>{u(d.target.value)},B=d=>{x(d.target.value)},D=()=>{j(!0)},M=()=>{j(!1)},L=P();function _(d){return new Date(d).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"})}const C=ue(),{flight:k}=C.state,{itineraries:O,price:E}=k,{segments:S}=O[0],T=S[0].carrierCode,A=_(S[0].departure.at),z=_(S[0].arrival.at),F={cardNumber:s,cardHolder:o,expMonth:t,expYear:l,cvv:p,flightName:T,departureTime:A,flight:k,timestamp:new Date().toString()},i=async d=>{d.preventDefault(),console.log("clicked");try{(await fetch("http://localhost:8000/api/booking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).ok?(console.log("Booking submitted successfully"),L("/dashboard")):console.error("Booking submission failed")}catch(g){console.error("Error submitting booking:",g)}};return v()?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Flight Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Flight Name:"})," ",T]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ",`${E.total} ${E.currency}`]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Departure Time:"})," ",A]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Arrival Time:"})," ",z]})]}),e.jsxs("div",{className:"container",children:[e.jsx("div",{className:`card-container ${m?"is-flipped":""}`,children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"front",children:[e.jsxs("div",{className:"image",children:[e.jsx("img",{src:se,alt:"",className:"chip"}),e.jsx("img",{src:Te,alt:"",className:"visa"})]}),e.jsx("div",{className:"card-number-box",children:s||"################"}),e.jsxs("div",{className:"flexbox",children:[e.jsxs("div",{className:"box",children:[e.jsx("span",{children:"card holder"}),e.jsx("div",{className:"card-holder-name",children:o})]}),e.jsxs("div",{className:"box",children:[e.jsx("span",{children:"expires"}),e.jsxs("div",{className:"expiration",children:[e.jsx("span",{className:"exp-month",children:t}),e.jsx("span",{className:"exp-year",children:l})]})]})]})]}),e.jsxs("div",{className:"back",children:[e.jsx("div",{className:"stripe"}),e.jsxs("div",{className:"box",children:[e.jsx("span",{children:"cvv"}),e.jsx("div",{className:"cvv-box",children:p}),e.jsx("img",{src:se,alt:"",className:"chip"})]})]})]})}),e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:"inputBox",children:[e.jsx("span",{children:"card number"}),e.jsx("input",{type:"text",maxLength:"16",className:"card-number-input",value:s,onChange:f})]}),e.jsxs("div",{className:"inputBox",children:[e.jsx("span",{children:"card holder"}),e.jsx("input",{type:"text",className:"card-holder-input",value:o,onChange:h})]}),e.jsxs("div",{className:"flexbox",children:[e.jsxs("div",{className:"inputBox",children:[e.jsx("span",{children:"expiration mm"}),e.jsx("select",{className:"month-input",value:t,onChange:b,children:Array.from({length:12},(d,g)=>e.jsx("option",{value:String(g+1).padStart(2,"0"),children:String(g+1).padStart(2,"0")},g))})]}),e.jsxs("div",{className:"inputBox",children:[e.jsx("span",{children:"expiration yy"}),e.jsx("select",{className:"year-input",value:l,onChange:N,children:Array.from({length:10},(d,g)=>e.jsx("option",{value:String(new Date().getFullYear()+g).slice(-2),children:String(new Date().getFullYear()+g).slice(-2)},g))})]}),e.jsxs("div",{className:"inputBox",children:[e.jsx("span",{children:"cvv"}),e.jsx("input",{type:"text",maxLength:"4",className:"cvv-input",value:p,onChange:B,onMouseEnter:D,onMouseLeave:M})]})]}),e.jsx("input",{type:"submit",value:"submit",className:"submit-btn"})]})]})]}):(L("/"),null)}const Fe="/assets/header-a7846bc3.jpg";function Re(){return e.jsxs("header",{className:"section__container header__container",children:[e.jsxs("h1",{className:"section__header",children:["Find And Book",e.jsx("br",{}),"A Great Experience"]}),e.jsx("img",{src:Fe,alt:"header",className:"header__image"})]})}const Pe="/assets/plan-1-04269cbb.jpg",Ie="/assets/plan-2-e1864baa.jpg",qe="/assets/plan-3-f5e3053d.jpg";function Be(){return e.jsxs("section",{className:"section__container plan__container",children:[e.jsx("p",{className:"subheader",children:"TRAVEL SUPPORT"}),e.jsx("h2",{className:"section__header",children:"Plan your travel with confidence"}),e.jsx("p",{className:"description",children:"Find help with your bookings and travel plans, and see what to expect along your journey."}),e.jsxs("div",{className:"plan__grid",children:[e.jsxs("div",{className:"plan__content",children:[e.jsx("span",{className:"number",children:"01"}),e.jsx("h4",{children:"Travel Requirements for Dubai"}),e.jsx("p",{children:"Stay informed and prepared for your trip to Dubai with essential travel requirements, ensuring a smooth and hassle-free experience in this vibrant and captivating city."}),e.jsx("span",{className:"number",children:"02"}),e.jsx("h4",{children:"Multi-risk travel insurance"}),e.jsx("p",{children:"Comprehensive protection for your peace of mind, covering a range of potential travel risks and unexpected situations."}),e.jsx("span",{className:"number",children:"03"}),e.jsx("h4",{children:"Travel Requirements by destinations"}),e.jsx("p",{children:"Stay informed and plan your trip with ease, as we provide up-to-date information on travel requirements specific to your desired destinations."})]}),e.jsxs("div",{className:"plan__image",children:[e.jsx("img",{src:Pe,alt:"Travel Requirements for Dubai"}),e.jsx("img",{src:Ie,alt:"Multi-risk travel insurance"}),e.jsx("img",{src:qe,alt:"Travel Requirements by destinations"})]})]})]})}function Me(){return e.jsx("section",{className:"memories",children:e.jsxs("div",{className:"section__container memories__container",children:[e.jsxs("div",{className:"memories__header",children:[e.jsx("h2",{className:"section__header",children:"Travel to make memories all around the world"}),e.jsx(y,{to:"/memories",className:"view__all",children:"View All"})]}),e.jsxs("div",{className:"memories__grid",children:[e.jsxs("div",{className:"memories__card",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-calendar-2-line"})}),e.jsx("h4",{children:"Book & Relax"}),e.jsx("p",{children:'With "Book and Relax," you can sit back, unwind, and enjoy the journey while we take care of everything else.'})]}),e.jsxs("div",{className:"memories__card",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-shield-check-line"})}),e.jsx("h4",{children:"Smart Checklist"}),e.jsx("p",{children:"Introducing Smart Checklist with us, the innovative solution revolutionizing the way you travel with our airline."})]}),e.jsxs("div",{className:"memories__card",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-bookmark-2-line"})}),e.jsx("h4",{children:"Save More"}),e.jsx("p",{children:"From discounted ticket prices to exclusive promotions and deals, we prioritize affordability without compromising on quality."})]})]})]})})}function Oe(){return e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"section__container footer__container",children:[e.jsxs("div",{className:"footer__col",children:[e.jsx("h3",{children:"Flivan"}),e.jsx("p",{children:"Where Excellence Takes Flight. With a strong commitment to customer satisfaction and a passion for air travel, Flivan Airlines offers exceptional service and seamless journeys."}),e.jsx("p",{children:"From friendly smiles to state-of-the-art aircraft, we connect the world, ensuring safe, comfortable, and unforgettable experiences."})]}),e.jsxs("div",{className:"footer__col",children:[e.jsx("h4",{children:"INFORMATION"}),e.jsx("p",{children:"Home"}),e.jsx("p",{children:"About"}),e.jsx("p",{children:"Offers"}),e.jsx("p",{children:"Seats"}),e.jsx("p",{children:"Destinations"})]}),e.jsxs("div",{className:"footer__col",children:[e.jsx("h4",{children:"CONTACT"}),e.jsx("p",{children:"Support"}),e.jsx("p",{children:"Media"}),e.jsx("p",{children:"Socials"})]})]}),e.jsxs("div",{className:"section__container footer__bar",children:[e.jsx("p",{children:"Copyright © 2023 Web Design Mastery. All rights reserved."}),e.jsxs("div",{className:"socials",children:[e.jsx("span",{children:e.jsx("i",{className:"ri-facebook-fill"})}),e.jsx("span",{children:e.jsx("i",{className:"ri-twitter-fill"})}),e.jsx("span",{children:e.jsx("i",{className:"ri-instagram-line"})}),e.jsx("span",{children:e.jsx("i",{className:"ri-youtube-fill"})})]})]})]})}const ze=()=>{const s=P(),r=()=>{ne(),s("/login")};return e.jsxs(e.Fragment,{children:[e.jsx(q,{logoutUser:r}),e.jsx(Re,{}),e.jsx(le,{}),e.jsx(Be,{}),e.jsx(Me,{}),e.jsx(be,{}),e.jsx(Oe,{})]})};function Ue(){const[s,r]=a.useState([]),[o,c]=a.useState(!0),[t,n]=a.useState(null);return a.useEffect(()=>{(async()=>{try{c(!0);const u=await fetch("http://localhost:8000/api/booking");if(u.ok){const p=await u.json();r(p)}else throw new Error("Failed to fetch flight data")}catch(u){n(u.message)}finally{c(!1)}})()},[]),e.jsxs("div",{children:[e.jsx("h2",{children:"User Bookings"}),e.jsx("h2",{children:"Flight Details"}),o?e.jsx("p",{children:"Loading..."}):t?e.jsxs("p",{children:["Error: ",t]}):s.length===0?e.jsx("p",{children:"No bookings found."}):e.jsx("ul",{children:s.map(l=>{var u,p;return e.jsxs("li",{children:[e.jsx("strong",{children:"Flight Price:"})," ",(u=l.flight.price)==null?void 0:u.currency," ",(p=l.flight.price)==null?void 0:p.total,e.jsx("br",{}),e.jsx("strong",{children:"Departure Airport:"})," ",l.flight.itineraries[0].segments[0].departure.iataCode,e.jsx("br",{}),e.jsx("strong",{children:"Arrival Airport:"})," ",l.flight.itineraries[0].segments[0].arrival.iataCode,e.jsx("br",{}),e.jsx("strong",{children:"Departure Time:"})," ",l.departureTime]},l._id)})})]})}function He(){return e.jsx(je,{children:e.jsx(de,{children:e.jsxs(pe,{children:[e.jsx(w,{path:"/",element:e.jsx(ze,{})}),e.jsx(w,{path:"/flights",element:e.jsx(le,{})}),e.jsx(w,{path:"/dashboard",element:e.jsx(De,{})}),e.jsx(w,{path:"/login",element:e.jsx(Le,{})}),e.jsx(w,{path:"/register",element:e.jsx(Ee,{})}),e.jsx(w,{path:"/payment",element:e.jsx(Ae,{})}),e.jsx(w,{path:"/bookings",element:e.jsx(Ue,{})})]})})})}ce.createRoot(document.getElementById("root")).render(e.jsx(oe.StrictMode,{children:e.jsx(He,{})}));
